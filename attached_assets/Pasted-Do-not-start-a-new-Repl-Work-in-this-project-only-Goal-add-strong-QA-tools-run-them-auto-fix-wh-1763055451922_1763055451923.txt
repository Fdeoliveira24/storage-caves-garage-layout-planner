Do not start a new Repl. Work in this project only.
Goal: add strong QA tools, run them, auto-fix what is safe, and give me a short report. No refactors. No API changes.

1) Install dev tools

Run:

npm i -D prettier eslint eslint-config-prettier \
  eslint-plugin-import eslint-plugin-promise eslint-plugin-sonarjs \
  stylelint stylelint-config-standard htmlhint \
  typescript @types/node \
  jscpd depcheck unimported \
  vitest jsdom \
  cspell pa11y husky lint-staged

2) Add config files with this exact content

.prettierrc.json

{ "singleQuote": true, "semi": true, "printWidth": 100 }

.eslintrc.json

{
  "env": { "es2022": true, "browser": true, "node": true },
  "extends": [
    "eslint:recommended",
    "plugin:import/recommended",
    "plugin:promise/recommended",
    "plugin:sonarjs/recommended",
    "prettier"
  ],
  "plugins": ["import", "promise", "sonarjs"],
  "rules": {
    "no-unused-vars": ["warn", { "argsIgnorePattern": "^_" }],
    "import/no-unresolved": "error"
  }
}

stylelint.config.cjs

module.exports = { extends: ['stylelint-config-standard'] };

.htmlhintrc

{ "attr-no-duplication": true, "id-unique": true, "tag-pair": true, "doctype-first": false }

cspell.json

{ "version": "0.2", "language": "en", "words": ["FabricJS","px","viewport","eslint","prettier"] }

tsconfig.json  (type check JS, no emit)

{
  "compilerOptions": {
    "checkJs": true,
    "noEmit": true,
    "target": "ES2022",
    "moduleResolution": "Node",
    "strict": true
  },
  "include": ["**/*.js"]
}

Add // @ts-check at the top of key JS files (App.js, CanvasManager.js, geometry.js, bounds.js).

3) Update package.json scripts

Add:

{
  "scripts": {
    "format": "prettier \"**/*.{js,css,html,json,md}\" --write",
    "lint": "eslint .",
    "lint:fix": "eslint . --fix",
    "css:lint": "stylelint \"**/*.css\"",
    "css:fix": "stylelint \"**/*.css\" --fix",
    "html:lint": "htmlhint **/*.html",
    "types": "tsc --noEmit",
    "dupes": "jscpd --reporters console --min-tokens 50 --pattern \"**/*.{js,css,html}\" --ignore \"**/dist/**,**/vendor/**\"",
    "dead": "depcheck && unimported",
    "test": "vitest run",
    "spell": "cspell \"**/*.{js,css,html,md}\"",
    "a11y": "pa11y http://localhost:5500/index.html || true",
    "check": "npm run lint && npm run css:lint && npm run html:lint && npm run types && npm run dupes && npm run dead && npm run test && npm run spell"
  },
  "lint-staged": {
    "*.{js,css,html,md,json}": ["prettier --write"]
  }
}

4) Husky pre-commit

npx husky install
npx husky add .husky/pre-commit "npx lint-staged && npm run lint && npm run types"

5) Run and fix
	1.	Run: npm run format, npm run lint:fix, npm run css:fix.
	2.	Run: npm run check.
	3.	If issues appear:
	•	Apply only safe fixes (format, unused vars, missing imports, obvious null checks).
	•	Do not change function names, events, or public APIs.
	•	For anything risky (could change behavior), do not change it; add a // TODO: with the rule name and include it in the report.

6) Report back

Post a short summary:
	•	Tools added and versions
	•	Scripts added
	•	Counts for: ESLint, Stylelint, HTMLHint, TS checks, jscpd, depcheck/unimported, tests, cspell, pa11y
	•	Files you changed and the exact fixes you applied
	•	Any TODOs that need my approval

Then keep these checks as a routine: pre-commit runs fast, npm run check runs the full suite.